<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarize a Data Frame with Grouping Variables — f_summary • rfriend</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarize a Data Frame with Grouping Variables — f_summary"><meta name="description" content="Computes summary statistics (e.g., mean, standard deviation, median, etc.) for a specified column (&quot;character string&quot;) in a data frame, grouped by one or more grouping variables in that data frame (&quot;character strings&quot;). Summary parameters can be customized and the results can be exported to an 'Excel' file."><meta property="og:description" content="Computes summary statistics (e.g., mean, standard deviation, median, etc.) for a specified column (&quot;character string&quot;) in a data frame, grouped by one or more grouping variables in that data frame (&quot;character strings&quot;). Summary parameters can be customized and the results can be exported to an 'Excel' file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rfriend</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Summarize a Data Frame with Grouping Variables</h1>

      <div class="d-none name"><code>f_summary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes summary statistics (e.g., mean, standard deviation, median, etc.) for a specified column ("character string") in a data frame, grouped by one or more grouping variables in that data frame ("character strings"). Summary parameters can be customized and the results can be exported to an 'Excel' file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">f_summary</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">data.column</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  show_n <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_mean <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_sd <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_se <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_min <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_max <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_median <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_Q1 <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_Q3 <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  export_to_excel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  close_generated_files <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  open_generated_files <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_in_wdir <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_input <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  eval_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits_excel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  detect_int_col <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A 'data.frame', 'data.table' or 'tibble', i.e. input data to be summarized.</p></dd>


<dt id="arg-data-column">data.column<a class="anchor" aria-label="anchor" href="#arg-data-column"></a></dt>
<dd><p>A character string, vector or list with characters. The name of the column(s) in <code>data</code> for which summary statistics will be calculated.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>One or more character strings specifying the grouping variables in <code>data</code>.</p></dd>


<dt id="arg-show-n">show_n<a class="anchor" aria-label="anchor" href="#arg-show-n"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>n</code> will be included in the output.</p></dd>


<dt id="arg-show-mean">show_mean<a class="anchor" aria-label="anchor" href="#arg-show-mean"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>mean</code> will be included in the output.</p></dd>


<dt id="arg-show-sd">show_sd<a class="anchor" aria-label="anchor" href="#arg-show-sd"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>sd</code> will be included in the output.</p></dd>


<dt id="arg-show-se">show_se<a class="anchor" aria-label="anchor" href="#arg-show-se"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>se</code> will be included in the output.</p></dd>


<dt id="arg-show-min">show_min<a class="anchor" aria-label="anchor" href="#arg-show-min"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>min</code> will be included in the output.</p></dd>


<dt id="arg-show-max">show_max<a class="anchor" aria-label="anchor" href="#arg-show-max"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>max</code> will be included in the output.</p></dd>


<dt id="arg-show-median">show_median<a class="anchor" aria-label="anchor" href="#arg-show-median"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>median</code> will be included in the output.</p></dd>


<dt id="arg-show-q-">show_Q1<a class="anchor" aria-label="anchor" href="#arg-show-q-"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>Q1</code> will be included in the output.</p></dd>


<dt id="arg-show-q-">show_Q3<a class="anchor" aria-label="anchor" href="#arg-show-q-"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the summary results <code>Q3</code> will be included in the output.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Integer. Round to the number of digits specified. If <code>digits = NULL</code> no rounding is applied (default is <code>digits = 2</code>). Note that this rounding is independent of the rounding in the exported excel file.</p></dd>


<dt id="arg-export-to-excel">export_to_excel<a class="anchor" aria-label="anchor" href="#arg-export-to-excel"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the (unrounded values) summary results will be exported to an 'Excel' file. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-close-generated-files">close_generated_files<a class="anchor" aria-label="anchor" href="#arg-close-generated-files"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, closes open 'Excel' files. This to be able to save the newly generated file. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-open-generated-files">open_generated_files<a class="anchor" aria-label="anchor" href="#arg-open-generated-files"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, Opens the generated 'Excel' files. This to directly view the results after creation. Files are stored in tempdir(). Default is <code>TRUE</code>.</p></dd>


<dt id="arg-save-as">save_as<a class="anchor" aria-label="anchor" href="#arg-save-as"></a></dt>
<dd><p>Character string specifying the output file path (without extension).
If a full path is provided, output is saved to that location.
If only a filename is given, the file is saved in <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>.
If only a directory is specified (providing an existing directory with trailing slash),
the file is named "dataname_summary.xlsx" in that directory.
Defaults to <code>file.path(tempdir(), "dataname_summary.xlsx")</code>.</p></dd>


<dt id="arg-save-in-wdir">save_in_wdir<a class="anchor" aria-label="anchor" href="#arg-save-in-wdir"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, saves the file in the working directory. Default is <code>FALSE</code>, to avoid unintended changes to the global environment. If <code>save_as</code> location is specified <code>save_in_wdir</code> is overwritten by <code>save_as</code>.</p></dd>


<dt id="arg-check-input">check_input<a class="anchor" aria-label="anchor" href="#arg-check-input"></a></dt>
<dd><p>If <code>TRUE</code>, checks the input and stops the function if the input is incorrect (default is <code>TRUE</code>).</p></dd>


<dt id="arg-eval-input">eval_input<a class="anchor" aria-label="anchor" href="#arg-eval-input"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the function evaluates the third function argument. This should be a character vector with the group by columns. Default is <code>FALSE</code>, which allows group by columns to be written without quotes.</p></dd>


<dt id="arg-digits-excel">digits_excel<a class="anchor" aria-label="anchor" href="#arg-digits-excel"></a></dt>
<dd><p>Integer. Round cells in the excel file to the number of digits specified. If <code>digits_excel = NULL</code> no rounding is applied (default is <code>digits_excel = NULL</code>). Note to preserve formatting numbers will be stored as text.</p></dd>


<dt id="arg-detect-int-col">detect_int_col<a class="anchor" aria-label="anchor" href="#arg-detect-int-col"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, columns in a data.frame containing only integers will be displayed without decimal digits. Columns containing a mix of integers and decimal values will display all values with the specified number of digits. If <code>FALSE</code>, each individual cell is evaluated: integer values are displayed without digits, and numbers containing digits with the specified number of digits. Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame containing the computed summary statistics, grouped by the specified variables. This data frame can be automatically saved as an 'Excel' file using <code>export_to_excel = TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function computes the following summary statistics for the specified column:</p><ul><li><p><code>n</code>: number of observations</p></li>
<li><p><code>mean</code>: mean</p></li>
<li><p><code>sd</code>: standard deviation</p></li>
<li><p><code>se</code>: standard error of the mean</p></li>
<li><p><code>min</code>: minimum value</p></li>
<li><p><code>max</code>: maximum value</p></li>
<li><p><code>median</code>: median</p></li>
<li><p><code>Q1</code>: first quartile</p></li>
<li><p><code>Q3</code>: third quartile</p></li>
</ul><p>Each of these summary statistics can be removed by setting e.g. <code>show_n = FALSE</code>, The results are grouped by the specified grouping variables and returned as a data frame. If <code>export_to_excel</code> is set to <code>TRUE</code>, the results are saved as an 'Excel' file in the working directory with a dynamically generated filename.</p>
<p>When only <code>data</code> and <code>data.column</code> is provided the function defaults to base:summary(data).</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sander H. van Delden  <a href="mailto:plantmind@proton.me">plantmind@proton.me</a> <br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage:</span></span></span>
<span class="r-in"><span><span class="co"># Create a summary of mtcars for data column hp grouped by cyl and gear,</span></span></span>
<span class="r-in"><span><span class="co"># and remove Q1 and Q3 from the output.</span></span></span>
<span class="r-in"><span><span class="co"># Note that variable can be written as "hp" or as hp. Only data.frame must be data (no quotes)</span></span></span>
<span class="r-in"><span><span class="va">summary_mtcars</span> <span class="op">&lt;-</span> <span class="fu">f_summary</span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"hp"</span>, <span class="st">"cyl"</span>, <span class="st">"gear"</span>, show_Q1 <span class="op">=</span> <span class="cn">FALSE</span>, show_Q3 <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">summary_mtcars</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl   gear   hp.n   hp.mea   hp.sd   hp.se   hp.min   hp.med   hp.max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     n                                 ian              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----- ------ ------ -------- ------- ------- -------- -------- --------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     3      1      97.00                    97       97.00    97      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     3      2      107.50   3.54    2.50    105      107.50   110     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     3      12     194.17   33.36   9.63    150      180.00   245     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4      8      76.00    20.11   7.11    52       66.00    109     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     4      4      116.50   7.51    3.75    110      116.50   123     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     5      2      102.00   15.56   11.00   91       102.00   113     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     5      1      175.00                   175      175.00   175     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     5      2      299.50   50.20   35.50   264      299.50   335     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a summary for iris</span></span></span>
<span class="r-in"><span><span class="va">summary_iris</span> <span class="op">&lt;-</span> <span class="fu">f_summary</span><span class="op">(</span><span class="va">iris</span>, <span class="va">Sepal.Length</span>, <span class="va">Species</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print the a table with column width of 10 characters and table length of 70 characters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">summary_iris</span>, col_width <span class="op">=</span>  <span class="fl">10</span>, table_width <span class="op">=</span> <span class="fl">70</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Species      Sepal.Leng   Sepal.Leng   Sepal.Leng   Sepal.Leng  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              th.n         th.mean      th.sd        th.se       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------ ------------ ------------ ------------ ------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> setosa       50           5.01         0.35         0.05        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> versicolor   50           5.94         0.52         0.07        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> virginica    50           6.59         0.64         0.09        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table continues below</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Leng   Sepal.Leng   Sepal.Leng   Sepal.Leng   Sepal.Leng  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> th.min       th.Q1        th.median    th.Q3        th.max      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------ ------------ ------------ ------------ ------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.30         4.80         5.00         5.20         5.80        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.90         5.60         5.90         6.30         7.00        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4.90         6.23         6.50         6.90         7.90        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sander H. van Delden.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

