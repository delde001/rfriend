<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert multiple columns to Factors in a data frame — f_factors • rfriend</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert multiple columns to Factors in a data frame — f_factors"><meta name="description" content="Converts multiple specified columns of a data frame into factors. If no columns are specified, it automatically detects and converts columns that are suitable to be factors. The function returns the entire data frame including non factor columns and reports the properties of this new data frame in the console."><meta property="og:description" content="Converts multiple specified columns of a data frame into factors. If no columns are specified, it automatically detects and converts columns that are suitable to be factors. The function returns the entire data frame including non factor columns and reports the properties of this new data frame in the console."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rfriend</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert multiple columns to Factors in a data frame</h1>

      <div class="d-none name"><code>f_factors.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converts multiple specified columns of a data frame into factors. If no columns are specified, it automatically detects and converts columns that are suitable to be factors. The function returns the entire data frame including non factor columns and reports the properties of this new data frame in the console.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">f_factors</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  properties <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force_factors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  unique_num_treshold <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  repeats_threshold <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the columns to be converted.</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>A character vector specifying the names of the columns to convert into factors. If <code>NULL</code>, the function automatically detects columns that should be factors based on their data type and unique value count. Default is <code>NULL</code>.</p></dd>


<dt id="arg-exclude">exclude<a class="anchor" aria-label="anchor" href="#arg-exclude"></a></dt>
<dd><p>A character vector specifying the names of the columns NOT to convert into factors. If <code>NULL</code>, no columns are excluded. Default is <code>NULL</code>.</p></dd>


<dt id="arg-properties">properties<a class="anchor" aria-label="anchor" href="#arg-properties"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, prints a detailed table about the properties of the new data frame to the console. If <code>FALSE</code> no property table will be printed to the console. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-force-factors">force_factors<a class="anchor" aria-label="anchor" href="#arg-force-factors"></a></dt>
<dd><p>Logical. If <code>TRUE</code> all columns in the data.frame will be converted to factors except for the excluded columns using <code>exclude</code>.</p></dd>


<dt id="arg-unique-num-treshold">unique_num_treshold<a class="anchor" aria-label="anchor" href="#arg-unique-num-treshold"></a></dt>
<dd><p>Numeric. A threshold of the amount of unique numbers a numeric column should have to keep it numeric, i.e. omit factor conversion. Default <code>8</code>.</p></dd>


<dt id="arg-repeats-threshold">repeats_threshold<a class="anchor" aria-label="anchor" href="#arg-repeats-threshold"></a></dt>
<dd><p>Numeric. A threshold of the minimal number of repeats a numeric column should have to convert it to a factor. Default <code>2</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code> function of baseR.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the modified data frame with the specified (or all suitable) columns converted to factors. Can also force a print of a summary of the data frame's structure to the console (properties = TRUE).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p>If <code>select</code> is <code>NULL</code>, the function identifies columns with character data or numeric data with fewer than 8 unique values as candidates for conversion to factors.</p></li>
<li><p>The function checks if all specified columns exist in the data frame and stops execution if any are missing.</p></li>
<li><p>Converts specified columns into factors, applying any additional arguments provided.</p></li>
<li><p>Outputs a summary data frame with details about each column, including its type, class, number of observations, missing values, factor levels, and labels.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/factor.html" class="external-link"><code>factor</code></a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sander H. van Delden  <a href="mailto:plantmind@proton.me">plantmind@proton.me</a> <br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Make a data.frame:</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"kiwi"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>, <span class="st">"kiwi"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"banana"</span>, <span class="st">"apple"</span>, <span class="st">"kiwi"</span>, <span class="st">"banana"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">1.1</span>, <span class="fl">3.4</span>, <span class="fl">4.5</span>, <span class="fl">5.4</span>, <span class="fl">6.7</span>, <span class="fl">7.8</span>, <span class="fl">8.1</span>, <span class="fl">9.8</span><span class="op">)</span></span></span>
<span class="r-in"><span>                 <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: chr  "yes" "no" "yes" "yes" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: num  1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: chr  "apple" "kiwi" "banana" "apple" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: num  1.1 1.1 3.4 4.5 5.4 6.7 7.8 8.1 9.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert specified columns to factors:</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span>, select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Factor w/ 2 levels "no","yes": 2 1 2 2 1 2 2 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: num  1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: Factor w/ 3 levels "apple","banana",..: 1 3 2 1 3 2 1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: num  1.1 1.1 3.4 4.5 5.4 6.7 7.8 8.1 9.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert all potential factor columns to factor but exclude column "b":</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span>, exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Factor w/ 2 levels "no","yes": 2 1 2 2 1 2 2 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: num  1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: Factor w/ 3 levels "apple","banana",..: 1 3 2 1 3 2 1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: num  1.1 1.1 3.4 4.5 5.4 6.7 7.8 8.1 9.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert all columns to factor but exclude column "b":</span></span></span>
<span class="r-in"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span>, exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span><span class="op">)</span>, force_factors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Factor w/ 2 levels "no","yes": 2 1 2 2 1 2 2 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: num  1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: Factor w/ 3 levels "apple","banana",..: 1 3 2 1 3 2 1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: Factor w/ 8 levels "1.1","3.4","4.5",..: 1 1 2 3 4 5 6 7 8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or automatically detect and convert suitable columns to factors.</span></span></span>
<span class="r-in"><span><span class="co"># Thus obtaining the same results as above automatically:</span></span></span>
<span class="r-in"><span><span class="va">df4</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Factor w/ 2 levels "no","yes": 2 1 2 2 1 2 2 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: Factor w/ 3 levels "1","2","3": 1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: Factor w/ 3 levels "apple","banana",..: 1 3 2 1 3 2 1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: num  1.1 1.1 3.4 4.5 5.4 6.7 7.8 8.1 9.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># In example above col b was converted to a factor as the number of repeats = 2</span></span></span>
<span class="r-in"><span><span class="co"># and the amount of unique numbers &lt; 8. In order to keep b numeric we can also</span></span></span>
<span class="r-in"><span><span class="co"># adjust the unique_num_treshold and/or repeats_threshold:</span></span></span>
<span class="r-in"><span><span class="va">df5</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span>, unique_num_treshold <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	9 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Factor w/ 2 levels "no","yes": 2 1 2 2 1 2 2 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: num  1 2 3 1 2 3 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c: Factor w/ 3 levels "apple","banana",..: 1 3 2 1 3 2 1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: num  1.1 1.1 3.4 4.5 5.4 6.7 7.8 8.1 9.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use `properties = TRUE` to view the data frame's structure.</span></span></span>
<span class="r-in"><span><span class="co"># This forces a printed output which is more insight than standard str() output.</span></span></span>
<span class="r-in"><span><span class="va">df6</span> <span class="op">&lt;-</span> <span class="fu">f_factors</span><span class="op">(</span><span class="va">df</span>, properties <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Column    Type   Class Obs Missing Factor_Levels       Factor_Labels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a      a integer  factor   9       0             2             no, yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b      b integer  factor   9       0             3             1, 2, 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c      c integer  factor   9       0             3 apple, banana, kiwi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> d      d  double numeric   9       0             0                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sander H. van Delden.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

